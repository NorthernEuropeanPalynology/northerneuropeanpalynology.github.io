<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map with Tabs</title>
    <!-- Include Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
    <body>

        <div class = "background">
            <div class="tab">
                <button class="tablinks" disabled>Home</button>
                <button class="tablinks" onclick=" location.href = '../image_library/library.html';">Open Library</button>
                <button class="tablinks" onclick="location.href = './classification/classification.html';">Classification</button>
                <button class="tablinks" onclick="location.href = './object_detection/OD.html';">Object Detection</button>
                <button class="tablinks" onclick="location.href = './automated_analysis/analysis.html';">Automated Analysis</button>
                <button class="tablinks" onclick="location.href = './contact/contact.html';">Contact</button>
            </div>

            <div class="Content">
            <h1>NEPal - Nothern European Palynology Database</h1>
            <p> The aim of this collaboration is to gather and share information on automated systems in palynology and develop a comprehensive database tailored especially 
                for machine learning. Pollen analysis is an important tool applied broadly in different research areas such as archaeology, climatology, forensic sciences, 
                and the food industry. While palynology has a long history in natural sciences, it is largely limited by the amount of expertise and time required to analyze 
                pollen assemblages to a high standard. We, therefore, recognize the realized need for automatization, which promises to help scientists minimize invested resources 
                while being more consistent in its abilities compared with the diverse levels of expertise among palynologists.
            </p>
                
            <p> This collaboration, to date, consists of different organizations across Northern Europe, each contributing to this project with their scientific knowledge, 
                ideas, and data from their respective fields. The focus of the overall collaboration at this stage is directed towards a dataset containing test data, which 
                should be considered a benchmark dataset for newly developed automated systems. Through this, we hope to reduce unnecessary investments in available systems 
                that did not perform as intended. Thus, in the near future, systems should subsequently be evaluated based on this dataset, such that researchers from different 
                fields get a better picture of the possible applications and their limitations.
            </p>

            <h2 style="margin-left: 5%;">Collaborating partners:</h2>

            <div id="map-container">
                <div id="map" style="width:100%;height:90%;"></div>
            </div>

            <script>
                // Initialize Leaflet map
                var map = L.map('map').setView([55.505, -0.09], 3.5); // Initial center and zoom level

                // Add OpenStreetMap tile layer as the base map
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                //Defined red Icon
                var redIcon = L.icon({
                    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
                    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
                    iconSize: [18, 30],
                    iconAnchor: [9, 30],
                    popupAnchor: [1, -34],
                    shadowSize: [25, 25]
                });

                var greyIcon = L.icon({
                    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png',
                    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
                    iconSize: [18, 30],
                    iconAnchor: [9, 30],
                    popupAnchor: [1, -34],
                    shadowSize: [10, 10]
                });

                // Create university pins
                var lundMarker = L.marker([55.7047, 13.1910],{icon: redIcon}).addTo(map);
                var uppsalaMarker = L.marker([59.8586, 17.6389],{icon: redIcon}).addTo(map);
                var baselMarker = L.marker([47.561960, 7.580791],{icon: redIcon}).addTo(map);
                var nrmMarker = L.marker([59.3289, 18.0575],{icon: redIcon}).addTo(map);
                var NewCastleMarker = L.marker([54.9764, -1.6080],{icon: greyIcon}).addTo(map);
                var sluMarker = L.marker([59.8164, 17.6596],{icon: redIcon}).addTo(map);
                var guMarker = L.marker([57.6984, 11.9716],{icon: redIcon}).addTo(map);

                // Function to open tabs
                function openTab(evt, tabName) {
                    var i, tabcontent, tablinks;
                    tabcontent = document.getElementsByClassName("tabcontent");
                    for (i = 0; i < tabcontent.length; i++) {
                        tabcontent[i].style.display = "none";
                    }
                    tablinks = document.getElementsByClassName("tablinks");
                    for (i = 0; i < tablinks.length; i++) {
                        tablinks[i].className = tablinks[i].className.replace(" active", "");
                    }
                    document.getElementById(tabName).style.display = "block";
                    evt.currentTarget.className += " active";
                }

                // Default tab to display
                document.getElementsByClassName("tablinks")[0].click();

                // Add university names as tooltips and link on click
                lundMarker.bindTooltip("Lunds Universitet").on('click', function() {
                    window.location.href = 'https://www.lunduniversity.lu.se/';
                }).addTo(map);

                uppsalaMarker.bindTooltip("Uppsala Universitet").on('click', function() {
                    window.location.href = 'https://www.uu.se/en/';
                }).addTo(map);

                sluMarker.bindTooltip("Sveriges Lantbruksuniversitet").on('click', function() {
                    window.location.href = 'https://www.slu.se/';
                }).addTo(map);

                guMarker.bindTooltip("GÃ¶teborgs Universitet").on('click', function() {
                    window.location.href = 'https://www.gu.se/';
                }).addTo(map);

                baselMarker.bindTooltip("University of Basel").on('click', function() {
                    window.location.href = 'https://www.unibas.ch/en.html';
                }).addTo(map);

                nrmMarker.bindTooltip("Naturhistoriska Riksmuseet").on('click', function() {
                    window.location.href = 'https://www.nrm.se/english.html';
                }).addTo(map);
            </script>
            </div>
        </div>

        <div class="Footer">
            
        </div>
        

    </body>
</html>
